<!DOCTYPE html>
<html xmlns:th="http://www.thymleaf.org">
    <head>
        <title>Flights</title>
        <link rel="stylesheet" type="text/css" th:href="@{/css/flights.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/css/nav.css}">

    </head>
    <body style=" background-image:linear-gradient(rgba(0,0,0,0.7),rgba(0,0,0,0.7)), url('/images/info.png');background-size: cover;background-position: center;background-repeat: no-repeat;">
      <nav>
        <img th:src="@{/images/logo.png}" width="auto" height="40px" id=logo alt="Logo image"/>
        <ul>
          <li><a th:href="@{/admin}">Home</a></li>
          <li><a th:href="@{/admin/admin-viewflights}">Flights</a></li>
          <li><a th:href="@{/contactus}">Contact Us</a></li>
          <li class="dropdown">
            <a href="javascript:void(0)"th:href="@{/admin/userprofile}" class="dropbtn">Profile</a>
            <div class="dropdown-content">
              <a th:href="@{/logout}">Logout</a>
            </div>
          </li>
        </ul>
    </nav>
        <br><BR><br>
      
        <div>
        <p>Current Date and Time: <span id="datetime"></span></p>
        <h1 style="color: #fff;text-align: center">Confirm Reservations</h1>
            </div>
            
            <table>
                <tr>
                    <th>Flight ID</th>
                    <th>Flight Type</th>
                    <th>Departure City</th>
                    <th>Arrival City</th>
                    <th>Destination</th>
                    <th>Departure Date</th>                   
                    <th>Price</th>
                    <th>Update Reservation</th>
                </tr>

                <tr th:each="reservation: ${reservation} " >
                  <form th:action="@{/changestatus}" >
                    <td  th:text="${reservation.flights.id}"></td>
                    <td  th:text="${reservation.flights.flight_type}"></td>
                    <td  th:text="${reservation.flights.arrival_city}"></td>
                    <td  th:text="${reservation.flights.destination}"></td>
                    <td  th:text="${reservation.flights.departure_date}"></td>
                    <td  th:text="${reservation.flights.price_for_ticket}"></td>
                  <td>  
                    <select th:name="status" >
                      <option  value="pending">pending</option>
                      <option  value="approved">Approved</option>
                      <option  value="rejected">Rejected</option>
                    </select>
                  </td>
                    <td> <button type="submit">select</button></td>
                    <input type="hidden" th:name="id" th:value="${reservation.id}">
                  
                    
                  </form>
                
                        
                </tr>      
                              
            </table>
           
    </body>
</html>
<script>
    function showDateTime() {
      var currentDate = new Date();
      var dateTimeString = currentDate.toLocaleString();
      document.getElementById("datetime").textContent = dateTimeString;
    }

    // Call the function when the page loads
    window.onload = showDateTime;
  </script>
               